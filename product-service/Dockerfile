FROM openjdk:11-jre-slim

ARG JAR_FILE=placeholder-service-0.0.1-SNAPSHOT.jar
ARG SPRING_PROFILE=local
ENV SPRING_PROFILE_ENV=$SPRING_PROFILE
ENV JAR_FILE_ENV=$JAR_FILE
ENV JAR_HOME /usr/apps

EXPOSE 8999 10001

COPY build/libs/$JAR_FILE $JAR_HOME/

WORKDIR $JAR_HOME

ENTRYPOINT java -Xms256m -Xmx512m -Dspring.profiles.active=$SPRING_PROFILE_ENV -jar $JAR_FILE_ENV